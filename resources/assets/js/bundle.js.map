{"version":3,"names":[],"mappings":"","sources":["bundle.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nvar _AjaxModule = require(\"./module/AjaxModule.js\");\n\nvar _ValidationModule = require(\"./module/ValidationModule.js\");\n\n/**\r\n * Created by Kodemania on 26/5/2016.\r\n */\n\nvar ajaxModule = new _AjaxModule.AjaxModule();\n\n$(\"#register #username\").keyup(function () {\n    ajaxModule.usernameAjaxCallWithValidation(\"#username\");\n});\n\n$(\"#register #email\").keyup(function () {\n    ajaxModule.emailAjaxCallWithValidation(\"#email\");\n});\n\n$(\"#register #username\").focusout(function () {\n    ajaxModule.usernameAjaxCallWithValidation(\"#username\");\n});\n\n$(\"#register #email\").focusout(function () {\n    ajaxModule.emailAjaxCallWithValidation(\"#email\");\n});\n\n$(\"#register #password\").keyup(function () {\n    var validationModule = new _ValidationModule.ValidationModule(\"#password\");\n\n    validationModule.validatePass(\"#password\");\n});\n\n$(\"#register\").submit(function (e) {\n    e.preventDefault();\n\n    ajaxModule.registerAjaxCallWithValidation(\"#username\", \"#email\", \"#password\", \"#register\", \"#submit\");\n});\n\n$(\"#login\").submit(function (e) {\n    e.preventDefault();\n\n    ajaxModule.loginAjaxCallWithValidation(\"#username\", \"#password\", \"#submit\");\n});\n\n},{\"./module/AjaxModule.js\":5,\"./module/ValidationModule.js\":6}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Ajax = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Created by Kodemania on 24/5/2016.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\n//\n\nvar _ErrorDisplayer = require(\"./ErrorDisplayer.js\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Ajax = exports.Ajax = function () {\n    function Ajax(requestType, requestUrl) {\n        _classCallCheck(this, Ajax);\n\n        this.requestType = requestType;\n        this.requestUrl = requestUrl;\n    }\n\n    _createClass(Ajax, [{\n        key: \"sendUsernameAjaxCall\",\n        value: function sendUsernameAjaxCall(usernameId, token) {\n\n            var errorDisplayer = new _ErrorDisplayer.ErrorDisplayer();\n\n            $.ajax({\n                type: this.requestType,\n                url: this.requestUrl,\n                data: {\n                    _token: token,\n                    username: $(usernameId).val()\n                },\n                success: function success(data) {\n                    if (data == \"available\") {\n                        errorDisplayer.displayUsernameSuccess(\"Username available\");\n                    } else if (data == \"unavailable\") {\n                        errorDisplayer.displayUsernameError(\"Username unavailable\");\n                    }\n                },\n                error: function error() {\n                    errorDisplayer.displayUsernameError(\"Network issue while checking\");\n                }\n            });\n        }\n    }, {\n        key: \"sendEmailAjaxCall\",\n        value: function sendEmailAjaxCall(emailId, token) {\n            var errorDisplayer = new _ErrorDisplayer.ErrorDisplayer();\n\n            $.ajax({\n                type: this.requestType,\n                url: this.requestUrl,\n                data: {\n                    _token: token,\n                    email: $(emailId).val()\n                },\n                success: function success(data) {\n                    if (data == \"available\") {\n                        errorDisplayer.displayEmailSuccess(\"Email available\");\n                    } else if (data == \"unavailable\") {\n                        errorDisplayer.displayEmailError(\"Email already registered\");\n                    }\n                },\n                error: function error() {\n                    errorDisplayer.displayEmailError(\"Network issue while checking\");\n                }\n            });\n        }\n    }, {\n        key: \"sendRegisterAjaxCall\",\n        value: function sendRegisterAjaxCall(usernameId, emailId, passwordId, submitBtnId, token) {\n\n            var submitBtn = $(submitBtnId).button('loading');\n            var errorDisplayer = new _ErrorDisplayer.ErrorDisplayer();\n\n            $.ajax({\n                type: this.requestType,\n                dataType: 'json',\n                url: this.requestUrl,\n                data: {\n                    _token: token,\n                    username: $(usernameId).val(),\n                    email: $(emailId).val(),\n                    password: $(passwordId).val()\n                },\n                error: function error(data) {\n                    errorDisplayer.displayAuthError(\"Username or Email is already registered\");\n                    submitBtn.button('reset');\n                },\n                success: function success(data) {\n                    submitBtn.button('reset');\n                    try {\n                        if (data.status) {\n                            errorDisplayer.displayAuthProcessReturnSuccess(data, \"You will be redirected to login page in 2 seconds\");\n                            setTimeout(function () {\n                                window.location = \"/login\";\n                            }, 2000);\n                        } else {\n                            errorDisplayer.displayAuthError(data.message);\n                        }\n                    } catch (e) {\n                        // catches exception\n                        console.log(e);\n                        errorDisplayer.displayAuthError(\"Some issue occur!. Please try later\");\n                    }\n                }\n            });\n        }\n    }, {\n        key: \"sendLoginAjaxCall\",\n        value: function sendLoginAjaxCall(usernameId, passwordId, submitBtnId, token) {\n            var submitBtn = $(submitBtnId).button('loading');\n            var errorDisplayer = new _ErrorDisplayer.ErrorDisplayer();\n\n            $.ajax({\n                type: this.requestType,\n                dataType: 'json',\n                url: this.requestUrl,\n                data: {\n                    _token: token,\n                    username: $(usernameId).val(),\n                    password: $(passwordId).val()\n                },\n                error: function error(data) {\n                    console.log(data);\n                    errorDisplayer.displayAuthError(\"Some issue occur!! Please try later\");\n                    submitBtn.button('reset');\n                },\n                success: function success(data) {\n                    submitBtn.button('reset');\n                    try {\n                        if (data.status) {\n                            errorDisplayer.displayAuthProcessReturnSuccess(data, \"You will be redirected to dashboard in 2 seconds\");\n                            setTimeout(function () {\n                                window.location = \"/login\";\n                            }, 2000);\n                        } else {\n                            errorDisplayer.displayLoginProcessReturnError();\n                        }\n                    } catch (e) {\n                        // catches exception\n                        console.log(e);\n                        errorDisplayer.displayAuthError(\"Some issue occur!! Please try later\");\n                    }\n                }\n            });\n        }\n    }]);\n\n    return Ajax;\n}();\n\n},{\"./ErrorDisplayer.js\":3}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * Created by Kodemania on 24/5/2016.\r\n */\n\nvar ErrorDisplayer = exports.ErrorDisplayer = function () {\n    function ErrorDisplayer() {\n        _classCallCheck(this, ErrorDisplayer);\n\n        this.passwordInputId = \"#password\";\n        this.passwordErrorId = \"#pass_error\";\n        this.passwordIconBoxId = \"#sizing-addon4\";\n        this.passwordIcon = \"#sizing-addon4 .fa-lock\";\n\n        this.usernameInputId = \"#username\";\n        this.usernameErrorId = \"#username_error\";\n        this.usernameIconBoxId = \"#sizing-addon2\";\n        this.usernameIcon = \"#sizing-addon2 .fa-user\";\n\n        this.emailInputId = \"#email\";\n        this.emailErrorId = \"#email_error\";\n        this.emailIconBoxId = \"#sizing-addon3\";\n        this.emailIcon = \"#sizing-addon3 .fa-at\";\n    }\n\n    _createClass(ErrorDisplayer, [{\n        key: \"displayUsernameError\",\n        value: function displayUsernameError(message) {\n            $(this.usernameIcon).css({ 'color': '#e74f4e' });\n            $(this.usernameInputId).css({ 'border': '1px solid #e74f4e', 'border-right': '1px solid #898989' });\n            $(this.usernameIconBoxId).css({ 'border': '1px solid #e74f4e', 'border-left': '1px solid #898989' });\n            $(this.usernameErrorId).html(\"<i class='fa fa-times'></i> \" + message).css({ 'color': '#e74f4e' }).fadeIn(500);\n        }\n    }, {\n        key: \"displayUsernameSuccess\",\n        value: function displayUsernameSuccess(message) {\n            $(this.usernameIcon).css({ 'color': '#5cb85c' });\n            $(this.usernameInputId).css({ 'border': '1px solid #5cb85c', 'border-right': '1px solid #898989' });\n            $(this.usernameIconBoxId).css({ 'border': '1px solid #5cb85c', 'border-left': '1px solid #898989' });\n            $(this.usernameErrorId).html(\"<i class='fa fa-check'></i> \" + message).css({ 'color': '#5cb85c' }).fadeIn(500);\n        }\n    }, {\n        key: \"displayPasswordError\",\n        value: function displayPasswordError(message) {\n            $(this.passwordIcon).css({ 'color': '#e74f4e' });\n            $(this.passwordInputId).css({ 'border': '1px solid #e74f4e', 'border-right': '1px solid #898989' });\n            $(this.passwordIconBoxId).css({ 'border': '1px solid #e74f4e', 'border-left': '1px solid #898989' });\n            $(this.passwordErrorId).html(\"<i class='fa fa-times'></i> \" + message).css({ 'color': '#e74f4e' }).fadeIn(500);\n        }\n    }, {\n        key: \"displayPasswordSuccess\",\n        value: function displayPasswordSuccess(message) {\n            $(this.passwordIcon).css({ 'color': '#5cb85c' });\n            $(this.passwordInputId).css({ 'border': '1px solid #5cb85c', 'border-right': '1px solid #898989' });\n            $(this.passwordIconBoxId).css({ 'border': '1px solid #5cb85c', 'border-left': '1px solid #898989' });\n            $(this.passwordErrorId).html(\"<i class='fa fa-check'></i> \" + message).css({ 'color': '#5cb85c' }).fadeIn(500);\n        }\n    }, {\n        key: \"displayEmailError\",\n        value: function displayEmailError(message) {\n            $(this.emailIcon).css({ 'color': '#e74f4e' });\n            $(this.emailInputId).css({ 'border': '1px solid #e74f4e', 'border-right': '1px solid #898989' });\n            $(this.emailIconBoxId).css({ 'border': '1px solid #e74f4e', 'border-left': '1px solid #898989' });\n            $(this.emailErrorId).html(\"<i class='fa fa-times'></i> \" + message).css({ 'color': '#e74f4e' }).fadeIn(500);\n        }\n    }, {\n        key: \"displayEmailSuccess\",\n        value: function displayEmailSuccess(message) {\n            $(this.emailIcon).css({ 'color': '#5cb85c' });\n            $(this.emailInputId).css({ 'border': '1px solid #5cb85c', 'border-right': '1px solid #898989' });\n            $(this.emailIconBoxId).css({ 'border': '1px solid #5cb85c', 'border-left': '1px solid #898989' });\n            $(this.emailErrorId).html(\"<i class='fa fa-check'></i> \" + message).css({ 'color': '#5cb85c' }).fadeIn(500);\n        }\n    }, {\n        key: \"displaySignupProcessReturnError\",\n        value: function displaySignupProcessReturnError(data) {\n            sweetAlert('Oops...3', data.responseJSON.username[0] + \"\\n\" + data.responseJSON.email[0], \"error\");\n        }\n    }, {\n        key: \"displayLoginProcessReturnError\",\n        value: function displayLoginProcessReturnError() {\n            sweetAlert('Oops...', \"Username or password is incorrect\", \"error\");\n        }\n    }, {\n        key: \"displayAuthProcessReturnSuccess\",\n        value: function displayAuthProcessReturnSuccess(data, message) {\n            swal({ title: \"Success\", text: data.message + \" \" + message, timer: 2000, showConfirmButton: false }, 'success');\n        }\n    }, {\n        key: \"displayAuthError\",\n        value: function displayAuthError(message) {\n            sweetAlert('Oops...', \"\" + message, \"error\");\n        }\n    }]);\n\n    return ErrorDisplayer;\n}();\n\n},{}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * Created by Kodemania on 24/5/2016.\r\n */\n\nvar Validation = exports.Validation = function () {\n    function Validation(field) {\n        _classCallCheck(this, Validation);\n\n        this.fieldToBeValidated = field;\n        this.getFieldValue();\n    }\n\n    _createClass(Validation, [{\n        key: \"getFieldValue\",\n        value: function getFieldValue() {\n            this.fieldValue = $(this.fieldToBeValidated).val();\n        }\n    }, {\n        key: \"validateLength\",\n        value: function validateLength(min) {\n            if (this.fieldValue.length > min) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n    }, {\n        key: \"validateEmail\",\n        value: function validateEmail() {\n            var emailRegex = /^([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$/i;\n\n            if (!emailRegex.test(this.fieldValue)) {\n                return false;\n            }\n            return true;\n        }\n    }]);\n\n    return Validation;\n}();\n\n},{}],5:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.AjaxModule = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Created by Kodemania on 26/5/2016.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\nvar _Ajax = require(\"../classes/Ajax.js\");\n\nvar _Validation = require(\"../classes/Validation.js\");\n\nvar _ErrorDisplayer = require(\"../classes/ErrorDisplayer.js\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar AjaxModule = exports.AjaxModule = function () {\n    function AjaxModule() {\n        _classCallCheck(this, AjaxModule);\n\n        this.passwordId = \"#password\";\n        this.passwordVal = $(this.passwordId).val();\n\n        this.email = \"#email\";\n        this.emailVal = $(this.email).val();\n\n        this.formTokenValue = $(\"input[name='_token']\").val();\n\n        this.usernameLengthErrorMessage = \"Username is not enough long\";\n        this.emailErrorMessage = \"Please enter valid email\";\n    }\n\n    _createClass(AjaxModule, [{\n        key: \"usernameAjaxCallWithValidation\",\n        value: function usernameAjaxCallWithValidation(usernameId) {\n\n            var validator = new _Validation.Validation(usernameId);\n            var errorDisplayer = new _ErrorDisplayer.ErrorDisplayer();\n\n            if (validator.validateLength(5)) {\n                // username is longer then 6 characters or 6 characters\n                var ajax = new _Ajax.Ajax(\"POST\", \"check/username\");\n\n                ajax.sendUsernameAjaxCall(usernameId, this.formTokenValue);\n            } else {\n                // username is less then 5 characters\n                errorDisplayer.displayUsernameError(this.usernameLengthErrorMessage);\n            }\n        }\n    }, {\n        key: \"emailAjaxCallWithValidation\",\n        value: function emailAjaxCallWithValidation(emailId) {\n            var validator = new _Validation.Validation(emailId);\n            var errorDisplayer = new _ErrorDisplayer.ErrorDisplayer();\n\n            if (validator.validateLength(6) && validator.validateEmail()) {\n                // email is longer then 6 characters\n                var ajax = new _Ajax.Ajax(\"POST\", \"check/email\");\n\n                ajax.sendEmailAjaxCall(emailId, this.formTokenValue);\n            } else {\n                // email is not longer enough and is not in valid format\n                errorDisplayer.displayEmailError(this.emailErrorMessage);\n            }\n        }\n    }, {\n        key: \"registerAjaxCallWithValidation\",\n        value: function registerAjaxCallWithValidation(usernameId, emailId, passwordId, formId, submitBtnId) {\n            var usernameValidator = new _Validation.Validation(usernameId);\n            var emailValidation = new _Validation.Validation(emailId);\n            var passValidation = new _Validation.Validation(passwordId);\n            var errorDisplayer = new _ErrorDisplayer.ErrorDisplayer();\n\n            if (!usernameValidator.validateLength(5)) {\n                // show error\n                errorDisplayer.displayUsernameError(this.usernameLengthErrorMessage);\n            }\n\n            if (!emailValidation.validateLength(6) && !emailValidation.validateEmail()) {\n                // show error\n                errorDisplayer.displayEmailError(this.emailErrorMessage);\n            }\n\n            if (usernameValidator.validateLength(5) && passValidation.validateLength(5) && emailValidation.validateLength(6) && emailValidation.validateEmail()) {\n                // form is validated\n\n                var ajax = new _Ajax.Ajax(\"POST\", \"signup/process/ajax\");\n                ajax.sendRegisterAjaxCall(usernameId, emailId, passwordId, submitBtnId, this.formTokenValue);\n            } else {\n                // sweet alert of signup error.\n                errorDisplayer.displayAuthError(\"Sorry for inconvenience We are facing some issue right now\");\n            }\n        }\n    }, {\n        key: \"loginAjaxCallWithValidation\",\n        value: function loginAjaxCallWithValidation(usernameId, passwordId, submitBtnId) {\n            var usernameValidator = new _Validation.Validation(usernameId);\n            var passValidation = new _Validation.Validation(passwordId);\n            var errorDisplayer = new _ErrorDisplayer.ErrorDisplayer();\n\n            if (!usernameValidator.validateLength(5)) {\n                // show error\n                errorDisplayer.displayUsernameError(this.usernameLengthErrorMessage);\n            }\n\n            if (usernameValidator.validateLength(5) && passValidation.validateLength(5)) {\n                // form is validated\n                var ajax = new _Ajax.Ajax(\"POST\", \"login/process/ajax\");\n                ajax.sendLoginAjaxCall(usernameId, passwordId, submitBtnId, this.formTokenValue);\n            } else {\n                // sweet alert of signup error.\n                errorDisplayer.displayAuthError(\"Sorry for inconvenience We are facing some issue right now\");\n            }\n        }\n    }]);\n\n    return AjaxModule;\n}();\n\n},{\"../classes/Ajax.js\":2,\"../classes/ErrorDisplayer.js\":3,\"../classes/Validation.js\":4}],6:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.ValidationModule = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Created by Kodemania on 30/5/2016.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\nvar _Validation = require(\"../classes/Validation.js\");\n\nvar _ErrorDisplayer = require(\"../classes/ErrorDisplayer.js\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ValidationModule = exports.ValidationModule = function () {\n    function ValidationModule() {\n        _classCallCheck(this, ValidationModule);\n\n        this.errorDisplayer = new _ErrorDisplayer.ErrorDisplayer();\n    }\n\n    _createClass(ValidationModule, [{\n        key: \"validatePass\",\n        value: function validatePass(fieldId) {\n\n            var validator = new _Validation.Validation(fieldId);\n\n            if (validator.validateLength(5)) {\n                // password is longer then 5 characters\n                this.errorDisplayer.displayPasswordSuccess(\"Password is OK\");\n            } else {\n                this.errorDisplayer.displayPasswordError(\"Password is not long enough\");\n            }\n        }\n    }]);\n\n    return ValidationModule;\n}();\n\n},{\"../classes/ErrorDisplayer.js\":3,\"../classes/Validation.js\":4}]},{},[3,4,2,5,1]);\n"],"file":"bundle.js","sourceRoot":"/source/"}